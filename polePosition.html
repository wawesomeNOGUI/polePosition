<html>
<body style="margin: 0; padding: 0; overflow: hidden; background-color: black;">
    <style>
        #gameCanvas {
            margin: 0;
            padding: 0;

            /*border-style: solid;*/
            /*border-color: #A4FCD4;*/
            /*border-width: 20px;*/

            font-smooth: never;
            -webkit-font-smoothing : none;

            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
    </style>
<canvas id="gameCanvas"></canvas>

<script src="./atariPixelFont.js"></script>
<script>
var canvas = document.getElementById("gameCanvas");
var ctx = canvas.getContext("2d");
canvas.width = 256;  //Pole Position Resolution
canvas.height = 224;
canvas.style.width = ""+ window.innerWidth +"px";   // stretch canvas to fit screen
canvas.style.height = ""+ window.innerHeight +"px"; // ***TODO: maybe stretch canvas to always have correct ratio as game instead of fullscreen
ctx.imageSmoothingEnabled = false;

//=================Sprites==============================
var background = new Image();
    background.src = "sprites/Pole0000.png";
//======================================================

//======================Vars============================
var topScore = 1600;
var score = 0;
var playTime = 60;
var speed = 195;

// lap time
var centisecs = 0;
var secs = 0;

//======================================================

function timing() {
    centisecs++;

    if (centisecs == 99) {
        centisecs = 0;
        secs++;
        playTime--;
    }
}
setInterval(timing, 10);

// ctx.fillRect(0, 0, canvas.width, canvas.height);
var tmp = 0;
function render() {
    // default background
    ctx.fillStyle = "black";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    tmp++;
    ctx.drawImage(background, canvas.width/2 - tmp/2, canvas.height/2 - tmp/2, tmp, tmp);


    // Screen Text
    // gear
    drawColorText(ctx, "LO", "#FFFFFF", canvas.width - 16, canvas.height - 8);

    // score
    drawColorText(ctx, "TOP", "#ff8fae", 24, 8);
    drawColorText(ctx, "" + topScore, "#ff8fae", 56, 8);
    drawColorText(ctx, "SCORE", "#ffffff", 8, 24);
    drawColorText(ctx, "" + score, "#ffffff", 56, 24);

    // play time left
    drawColorText(ctx, "TIME", "#ffff70", 112, 8);
    drawColorText(ctx, "" + playTime, "#ffff70", 120, 24);

    // lap time
    drawColorText(ctx, "LAP", "#8fff70", 176, 8);
    drawColorText(ctx, "" + secs + "*" + centisecs, "#8fff70", 208, 8);

    // speed
    drawColorText(ctx, "SPEED", "#ffffff", 160, 24);
    drawColorText(ctx, "" + speed + "kmh", "#ffffff", 208, 24);
}
setInterval(render, 16);



window.addEventListener("keydown", function (event) {

});

window.addEventListener("resize", function(e){
    canvas.style.width = ""+ window.innerWidth +"px";
    canvas.style.height = ""+ window.innerHeight +"px";
});

window.addEventListener("contextmenu", function(e){
  e.preventDefault();   //stops right click bringing up a menu
});
</script>
</body>
</html>